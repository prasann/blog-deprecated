---
layout: post
title: Slot machine effect using jQuery
categories:
- jQuery
- Tricks
tags:
- jQuery
status: publish
type: post
published: true
meta-robots: "noodp,noydir"
meta-description: A cool widget that looks like a slot machine. Small piece of code and a nice trick to animate the numbers to achieve a slot machine effect.
meta-keywords: "jquery, javascript, slot-machine, tricks"
meta:
  dsq_thread_id: '425150368'
---
<div class="post">
<p><strong>Intention:</strong><br />
In an yet another cart based web-app, the intention is to make the cart page looks fancier.Â <a title="Praveen Selvam" href="http://praveenselvam.com" target="_blank">Praveen Selvam</a> came up with this idea of slot machine effect in the price section whenever an item been added.</p>
<p><strong>Slot Machine Effect:</strong></p>
<iframe width="100%" height="320" src="http://jsfiddle.net/prasans/vxrBd/embedded/result/"></iframe>
<p><strong>Requisite:</strong></p>
<ul>
<li>jQuery 1.5+</li>
</ul>
<p><strong>Idea:</strong></p>
<ul>
<li>Create an element to display the animation.</li>
<li>Next create an empty element say <span style="color: #008080;">&lt;div&gt;&lt;/div&gt;</span> and set its <span style="color: #008080;">position: 'fixed'</span></li>
<li>Set the position of the empty element to the Start Value of the slot.</li>
<li>Now use jQuery animate to move the empty element from Start value to the specified End Value in a given duration.</li>
<li>jQuery animate has a <span style="color: #008080;">step()</span> method which gives you the current position of the div for every unit of time.</li>
<li>Now inside this <span style="color: #008080;">step()</span> method set the display element's text to the current position value of the empty element.</li>
<li>Since empty element moves from start value to end value, you will see the numbers changing from start value to end value in the display area.</li>
</ul>
<div><span class="Apple-style-span" style="font-size: 16px; line-height: 24px;"><strong>Javascript Code:</strong></span></div>
<div>
<pre class="prettyprint">$('#animate_btn').click(function() {
	cashFlow($('.value'), $('#startVal').val(), $('#endVal').val(),
	$('#duration').val() * 1000, $('#decimal').val());
});

cashFlow = function(elem, from, to, duration, decimal) {
    var magicObject;
    if (typeof magicObject === 'undefined') {
        magicObject = $('&lt;div&gt;&lt;/div&gt;').appendTo('body');
    }
    magicObject.css({
        position: "fixed",
        left: from
    }).animate({
        left: to
    }, {
        duration: duration,
        step: function(currentLeft) {
            elem.html(Number(currentLeft).toFixed(decimal));
        },
        complete: function() {
            magicObject.remove();
        }
    });
};</pre>
</div>
</div>
